<!doctype html>
<html>
<head>
    <script src="index.css"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
        $(function () {
            var socket = io();
            var $messageForm = $('#send-message');
            var $messageBox = $('message');
            var $chat = $('chat');

            $('form').submit(function(e){
                e.preventDefault(); // prevents page reloading
                socket.emit('send message', $messageBox.val());
                $messageBox.val('');
            });
            socket.on('new message', function(msg){
                $chat.append(msg + "<br/>");
            });
        });
    </script>
    <title>Socket.IO chat</title>

</head>
<body>

<div id="nickWrap"></div>
<p> Enter a username</p>
<p id="nickError"></p>
<form id="setNick">
    <input size="55" id="nickname"></input>
    <input type="submit"></input>
</form>


<div id="contentWrap">
    <div id="chatWrap">
<div id="chat"></div>
<form id="send-message">
    <input size="55" id="message"></input>
    <input type="submit"></input>
</form>
    </div>
    <div id="users"></div>
</div>
</body>
</html>